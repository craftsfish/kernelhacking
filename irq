softirq和具体的CPU的关系是什么
__do_softirq工作在hardirq上下文 {
	进入时调用local_irq_enable
	退出时调用local_irq_disable
	这样处理softirq的时候硬中断可以被响应
}

irqs_disabled
irqs_disabled_flags

softirq在中断返回用户空间是执行？
同一个中断处理函数不需要考虑重入，因为调用时把对应的中断信号屏蔽了，但是softirq就不一样了，同样的softirq可以在不同的CPU上同时执行，所以softirq要考虑重入问题。tasklet状态变量用于同步，确保一个tasklet某个时刻只能在一个CPU上面。因此tasklet也不需要考虑重入问题。
